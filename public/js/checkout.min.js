(()=>{var s="price_1Ris0OH2AzHMl4LgMbe1X3Xz",a="price_1RvvfCH2AzHMl4LgJDB1QS8O",u={RON:s,EUR:a},o="EUR";function l(){return u[o]}async function d({email:e,priceId:n,customerId:c}){let t=await(await fetch("/api/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,priceId:n,customerId:c,successUrl:window.location.origin+"/?success=true",cancelUrl:window.location.origin+"/"})})).json();t?.url?window.location.href=t.url:alert(t.error||"Nu am putut crea sesiunea de checkout.")}document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("currency-select"),n=document.getElementById("pay-btn");e&&(o=e.value||"EUR",e.addEventListener("change",()=>{o=e.value||"EUR"})),n&&n.addEventListener("click",async c=>{c.preventDefault();let r=l(),t=document.querySelector("#emailInput")?.value?.trim()||null,i=window.currentStripeCustomerId||null;await d({email:t,priceId:r,customerId:i})})});})();
